import{userName,userEmail,nameMessage,emailMessage,submitBtn}from"../constants/queries.js";import{onlyLettersRegExp,onlyGmailRegExp}from"../constants/regExp.js";import{validInputs}from"../constants/form.js";import{sendEmail}from"./sendEmail.js";import{resetButton}from"./resetButton.js";import{removeClass}from"../utils/removeClass.js";import{addClass}from"../utils/addClass.js";export const handleForm=()=>{const e=document.querySelector(".contacts__form"),s=({id:e,value:s},t,a)=>{const m=t.test(s);validInputs[e]=m&&!0,m?(addClass(a,"contacts__message--valid"),removeClass(a,"contacts__message--invalid")):(addClass(a,"contacts__message--invalid"),removeClass(a,"contacts__message--valid")),validInputs.email&&validInputs.name?(submitBtn.removeAttribute("disabled"),removeClass(submitBtn,"button--disabled")):resetButton()};userName.addEventListener("input",(()=>s(userName,onlyLettersRegExp,nameMessage))),userEmail.addEventListener("input",(()=>s(userEmail,onlyGmailRegExp,emailMessage))),e.addEventListener("submit",(e=>{e.preventDefault(),s(userName,onlyLettersRegExp,nameMessage),s(userEmail,onlyGmailRegExp,emailMessage),sendEmail()}))};